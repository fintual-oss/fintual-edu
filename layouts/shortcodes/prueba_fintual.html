<style type="text/css">
  @import url("https://fonts.googleapis.com/css?family=Poppins&display=swap");
</style>

<style type="text/css">
  .cta-card h4 {
    margin: 0 0 10px 0;
    font-family: Poppins;
  }

  .cta-card p {
    margin: 0;
    padding: 0;
  }

  .cta-card--prueba {
    position: relative;

    height: 250px;
    width: 100%;
    margin: 15px 0 33px 0;
    padding-left: 24px;
    padding-right: 24px;
    padding-top: 32px;
    padding-bottom: 32px;


    background-image: linear-gradient(270deg, #3985ee 0%, #005ad6 100%);
    overflow: visible;
    box-shadow: 0 2px 1px -1px rgba(0, 0, 0, 0.2),
      0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 1px 3px 0 rgba(0, 0, 0, 0.12);
    border-radius: 12px;

    color: white;
    font-family: Poppins;
    font-size: 16px;
    text-align: left;
    line-height: 19.2px;


  }

  .cta-button--prueba {
    display: block;
    text-align: center;
    line-height: 36px;
    width: 100%;
    height: 36px;
    margin-top: 92px;
    z-index: 200;


    border-radius: 18px;
    border: 1px solid white;
    box-shadow: 0 2px 1px -1px rgba(0, 0, 0, 0.2),
      0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 1px 3px 0 rgba(0, 0, 0, 0.12);


    background-color: transparent;
    color: white;
  }

  .cta-button--prueba:hover {
    background-image: linear-gradient(white, white);
    background-color: white;
    color: #3985ee;
  }

  .cta-coin {
    display: block;
    /* border: tomato 1px solid; */
    background-position-y: -10px;
    ;
    position: absolute;
    z-index: 100;
    width: 260px;
    height: 170px;
    top: 0px;
    left: 350px;
    background-repeat: no-repeat;
  }





  @media (max-width: 1200px) {
    .cta-coin {
      top: 80px;
      left: 40px;
      height: 170px;
    }

    .cta-card--prueba {
      height: 310px;
      padding-left: 16px;
      padding-right: 16px;
      padding-top: 24px;
      padding-bottom: 24px;
    }

    .cta-button--prueba {
      margin-top: 158px;
    }

    .cta-button--prueba:active {
      color: #3985ee;
      background-image: linear-gradient(white, white);
      background-color: white;
    }


  }

  @media (min-width: 992px) and (max-width: 1200px) {
    .cta-button--prueba {
      margin-top: 174px;
    }

    .cta-coin {
      left: 105px;
    }
  }

  .preloaded {
    visibility: hidden;
  }
</style>

<div>

  <div class="cta-card cta-card--prueba">
    <h4>Prueba Fintual</h4>
    <div class="cta-coin" id="cta-coin"></div>
    <a href="https://www.fintual.cl" class="cta-coin"></a>
    <p>MÃ¡s inteligente que dejar el dinero en el banco.</p>

    <a class="cta-button cta-button--prueba" href="https://www.fintual.cl">Empezar</a>

  </div>

</div>

</div>


<div class="preloaded">

  <img src="{{ "/img/cta-frames/untitled.1.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.2.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.3.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.4.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.5.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.6.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.7.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.8.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.9.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.10.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.11.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.12.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.13.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.14.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.15.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.16.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.17.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.18.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.19.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.20.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.21.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.22.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.23.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.24.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.25.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.26.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.27.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.28.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.29.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.30.png" | urlize |relURL }}" class="preloaded" />
  <img src="{{ "/img/cta-frames/untitled.31.png" | urlize |relURL }}" class="preloaded" />


</div>



<script>

  // Cambiar aqui no mas //
  const speed = 0.7
  const totalFrames = 31
  /////////////////////////

  const threshold = Math.round((1 / speed), 20)
  const maxTicks = threshold * totalFrames
  const step = 100
  var tick = 1
  var lastScrollTop = 0;

  function incrementTick() {
    if (tick / threshold < maxTicks) {
      tick++
    } else {
      tick = 1
    }
  }

  function decrementTick() {
    if (tick / threshold > 1) {
      tick--
    } else {
      tick = maxTicks
    }
  }

  function isScrollingDown() {
    let st = window.pageYOffset || document.documentElement.scrollTop
    let result = Boolean
    if (st > lastScrollTop) {
      result = true
    } else {
      result = false
    }
    lastScrollTop = st <= 0 ? 0 : st;
    return result
  }

  function spinTheCoin() {
    isScrollingDown() ? incrementTick() : decrementTick()
    changeBg()
  }

  function changeBg() {
    let base_url = '{{ "/img/cta-frames/untitled.x.png" | urlize | relURL }}'
    let part = base_url.split('x')
    let full_url = part[0] + Math.round(tick / threshold, 0) + part[1]
    document.getElementById("cta-coin").style.backgroundImage = `url('${full_url}')`
  }
</script>